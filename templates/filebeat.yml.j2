filebeat.config.modules:
  # Glob pattern for configuration loading
  path: ${path.config}/modules.d/*.yml

  # Set to true to enable config reloading
  reload.enabled: false

  # Period on which files under path should be checked for changes
  #reload.period: 10s

output.logstash:
  hosts: ["{{ logstash_lb_host }}"]

{% if kibana_host is defined %}
setup.kibana:
  host: "{{ kibana_host }}"
  {% if kibana_username is defined %}
  username: "{{ kibana_username }}"
  password: "{{ kibana_password }}"
  {% endif %}
{% endif %}

{% if es_hosts is defined %}
output.elasticsearch:
  hosts:
  {% for host in es_hosts %}
    - host
  {% endfor %}
{% endif %}